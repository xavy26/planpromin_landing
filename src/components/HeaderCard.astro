---
const apiKey = '19b6a99e978da10bee647275751c2035';
const url = `https://api.metalpriceapi.com/v1/latest?api_key=${apiKey}&base=USD&currencies=XAU,XAG`;
const resp = await fetch(url);
let gold = 0, silver = 0, copper = 0;
if (resp.status === 200) {
  const data = await resp.json();
  gold = data.rates.XAU;
  silver = data.rates.XAG;
} else {
  console.error('Error', resp.status);
}
const minValues =[
  {
    name: 'Oro',
    value: parseFloat((1 / gold).toFixed(5)),
    variation: parseFloat(gold.toFixed(5)),
    color: 'text-yellow-400'
  },
  {
    name: 'Plata',
    value: parseFloat((1 / silver).toFixed(5)),
    variation: parseFloat(silver.toFixed(5)),
    color: 'text-gray-400'
  },
  {
    name: 'Cobre',
    value: 4.53073,
    variation: -0.49,
    color: 'text-red-400'
  }
]
---
<div class="md:mx-24 sm:mx-0 my-16 z-10 bg-gray-100 md:rounded-full sm:rounded-3xl shadow absolute bottom-0 self-center">
  <div class="grid gap-5 mx-24 sm:mx-12 my-0 md:grid-cols-3 sm:grid-cols-1">
    {
      minValues.map((item) => (
        <div class="overflow-hidden text-center">
          <div class="px-4 py-4 lg:p-6">
            <dl>
              <dt class={`text-2xl font-bold leading-5 ${item.color} truncate`}>
                {item.name}
              </dt>
              <dt class="mt-1 text-sm font-normal leading-5 text-gray-500">
                {item.variation} %
              </dt>
              <dd class="text-2xl font-medium leading-6 text-gray-900">
                {item.value}
              </dd>
            </dl>
          </div>
        </div>
      ))
    }
  </div>
</div>
